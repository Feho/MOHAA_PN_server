if(level.loaded != 1)
{
	exec soundfix/mapswitch.scr
}

cache models/weapons/colt45.tik
cache models/weapons/p38.tik
cache models/weapons/silencedpistol.tik
cache models/weapons/m1_garand.tik
cache models/weapons/kar98.tik
cache models/weapons/kar98sniper.tik
cache models/weapons/springfield.tik
cache models/weapons/thompsonsmg.tik
cache models/weapons/mp40.tik
cache models/weapons/mp44.tik
cache models/weapons/bar.tik
cache models/weapons/bazooka.tik
cache models/weapons/panzerschreck.tik
cache models/weapons/shotgun.tik
cache models/weapons/m2frag_grenade.tik
cache models/weapons/steilhandgranate.tik
cache models/statweapons/flak88turret.tik
cache models/statweapons/mg42_gun.tik
cache models/statweapons/mg42_gun_fake.tik
cache models/player/allied_airborne.tik
cache models/player/allied_airborne_fps.tik
cache models/player/allied_manon.tik
cache models/player/allied_manon_fps.tik
cache models/player/allied_oss.tik
cache models/player/allied_oss_fps.tik
cache models/player/allied_pilot.tik
cache models/player/allied_pilot_fps.tik
cache models/player/american_army.tik
cache models/player/american_army_fps.tik
cache models/player/american_ranger.tik
cache models/player/american_ranger_fps.tik
cache models/player/german_afrika_officer.tik
cache models/player/german_afrika_officer_fps.tik
cache models/player/german_afrika_private.tik
cache models/player/german_afrika_private_fps.tik
cache models/player/german_elite_gestapo.tik
cache models/player/german_elite_gestapo_fps.tik
cache models/player/german_elite_sentry.tik
cache models/player/german_elite_sentry_fps.tik
cache models/player/german_elite_sentry_fps.tik
cache models/player/german_kradshutzen.tik
cache models/player/german_kradshutzen_fps.tik
cache models/player/german_panzer_grenadier.tik
cache models/player/german_panzer_grenadier_fps.tik
cache models/player/german_panzer_obershutze.tik
cache models/player/german_panzer_obershutze_fps.tik
cache models/player/german_panzer_shutze.tik
cache models/player/german_panzer_shutze_fps.tik
cache models/player/german_panzer_tankcommander.tik
cache models/player/german_panzer_tankcommander_fps.tik
cache models/player/german_scientist.tik
cache models/player/german_scientist_fps.tik
cache models/player/german_waffenss_officer.tik
cache models/player/german_waffenss_officer_fps.tik
cache models/player/german_waffenss_shutze.tik
cache models/player/german_waffenss_shutze_fps.tik
cache models/player/german_wehrmacht_officer.tik
cache models/player/german_wehrmacht_officer_fps.tik
cache models/player/german_wehrmacht_soldier.tik
cache models/player/german_wehrmacht_soldier_fps.tik
cache models/player/german_winter1.tik
cache models/player/german_winter1_fps.tik
cache models/player/german_winter2.tik
cache models/player/german_winter2_fps.tik
cache models/player/german_worker.tik
cache models/player/german_worker_fps.tik
cache models/vehicles/kingtank.tik
cache models/vehicles/tigertank.tik
cache models/vehicles/shermantank.tik
cache models/vehicles/sdkfz.tik
cache models/vehicles/vehiclesoundentity.tik
cache models/vehicles/jeep.tik
cache models/vehicles/opeltruck.tik
cache models/vehicles/kingcannon.tik
cache models/vehicles/tigercannon.tik
cache models/vehicles/jeep_30cal_viewmodel.tik
cache models/vehicles/jeep_30cal.tik


//Caching all FX **Experimental**
//Okay, first test positive
cache models/fx/bh_paper_lite.tik
cache models/fx/bh_paper_hard.tik
cache models/fx/bh_wood_lite.tik
cache models/fx/bh_wood_hard.tik
cache models/fx/bh_metal_lite.tik
cache models/fx/bh_metal_hard.tik
cache models/fx/bh_stone_lite.tik
cache models/fx/bh_stone_hard.tik
cache models/fx/bh_dirt_lite.tik
cache models/fx/bh_dirt_hard.tik
cache models/fx/bh_grass_lite.tik
cache models/fx/bh_grass_hard.tik
cache models/fx/bh_mud_lite.tik
cache models/fx/bh_mud_hard.tik
cache models/fx/bh_water_lite.tik
cache models/fx/bh_water_hard.tik
cache models/fx/bh_glass_lite.tik
cache models/fx/bh_glass_hard.tik
cache models/fx/bh_sand_lite.tik
cache models/fx/bh_sand_hard.tik
cache models/fx/bh_foliage_lite.tik
cache models/fx/bh_foliage_hard.tik
cache models/fx/bh_snow_lite.tik
cache models/fx/bh_snow_hard.tik
cache models/fx/bh_carpet_lite.tik
cache models/fx/bh_carpet_hard.tik
cache models/fx/bh_human_uniform_lite.tik
cache models/fx/bh_human_uniform_hard.tik
cache models/fx/water_trail_bubble.tik
cache models/fx/grenexp_base.tik
cache models/fx/bazookaexp_base.tik
cache models/fx/grenexp_paper.tik
cache models/fx/grenexp_wood.tik
cache models/fx/grenexp_metal.tik
cache models/fx/grenexp_stone.tik
cache models/fx/grenexp_dirt.tik
cache models/fx/grenexp_grass.tik
cache models/fx/grenexp_mud.tik
cache models/fx/grenexp_water.tik
cache models/fx/grenexp_gravel.tik
cache models/fx/grenexp_sand.tik
cache models/fx/grenexp_foliage.tik
cache models/fx/grenexp_snow.tik
cache models/fx/grenexp_carpet.tik
cache models/fx/water_ripple_still.tik
cache models/fx/water_ripple_moving.tik
cache models/fx/barrel_oil_leak_big.tik
cache models/fx/barrel_oil_leak_medium.tik
cache models/fx/barrel_oil_leak_small.tik
cache models/fx/barrel_oil_leak_splat.tik
cache models/fx/barrel_water_leak_big.tik
cache models/fx/barrel_water_leak_medium.tik
cache models/fx/barrel_water_leak_small.tik
cache models/fx/barrel_water_leak_splat.tik
cache models/fx/fs_light_dust.tik
cache models/fx/fs_heavy_dust.tik
cache models/fx/fs_dirt.tik
cache models/fx/fs_grass.tik
cache models/fx/fs_mud.tik
cache models/fx/fs_puddle.tik
cache models/fx/fs_sand.tik
cache models/fx/fs_snow.tik



//Global - Missing caches
cache models/fx/dummy.tik
cache models/items/binoculars.tik
cache models/items/dm_50_healthbox.tik


//Other missing caches
//cache models/fx/scriptbazookaexplosion.tik
cache models/animate/fx_mortar_dirt.tik
cache models/fx/bazookaexplosion_dm.tik

// Feho - mise en cache des mods et autres
cache models/player/allied_sas.tik
// Grenades fumig�nes
cache models/fx/m2fgrenadeexplosion2.tik
cache models/emitters/linger_smoke.tik
cache models/emitters/higgins_mushroom.tik
// Bipied BAR
cache models/statweapons/mg42_bipod_nonstatic.tik
// Balles tra�antes
cache models/fx/muzflash.tik
// Bots
cache models/items/cigarette.tik
cache models/statweapons/mg42_bipod.tik

if (getcvar "modematch" != "1")
{
	exec global/rank/ranking.scr // Ranking Sytem (grades pour les kills)
	exec global/fire_for_effect/root.scr // Fire For Effect (airstikes)
}

level waittill spawn

// Syst�me de logs
exec global/logger.scr

// Medecin al�atoire
//exec global/randommedic.scr

//Medic feho
// exec global/medicmod.scr

// exec global/snowcontest.scr
// exec global/weapon_give_take.crp

// Ex�cute le mode tremblement de la vis�e
// exec global/view.scr

// Radar server-side
// exec global/Radar/setup_maps.radar

// Essouflement si pts de vie <= 20
// exec global/hurt.scr

//team balance
// exec mainframe/urm_teambalance.urm

// exec global/nocheat.scr

exec global/feho/antinoob.scr
exec custom/anticham.scr
wait 1
exec custom/anticham2.scr

// exec global/ironsite.scr // modif vue armes

if (getcvar "modematch" != "1")
{
	exec global/feho/voices.scr //feho sighted voices
	// exec global/feho/messages.scr // messages serveur
	exec global/support/support.scr // start support gunner scripts
	exec global/squadmaker/squadmaker.scr // start squadmaker
	exec global/feho/nadesfix.scr // Nades crash fix
	// exec global/sv_intial.scr // Revive mod
	exec global/medic.scr // M�decin

	// === Base Assault ===
	// Event Callback Handler
	local.connected_event = registerev "connected" global/AA/callbacksetup.scr::connected
	local.disconnected_event = registerev "disconnected" global/AA/callbacksetup.scr::disconnected
	local.spawn_event = registerev "spawn" global/AA/callbacksetup.scr::spawn
	local.damage_event = registerev "damage" global/AA/callbacksetup.scr::damage
	local.kill_event = registerev "kill" global/AA/callbacksetup.scr::kill
	local.keypress_event = registerev "keypress" global/AA/callbacksetup.scr::keypress
	local.intermission_event = registerev "intermission" global/AA/callbacksetup.scr::intermission
	local.servercommand_event = registerev "servercommand" global/AA/callbacksetup.scr::servercommand

	thread global/AA/vehicle_fixes.scr::vehicle_spawnkill
	// === Base Assault ===

	// Event Callback Handler
	// local.connected_event = registerev "connected" global/eventhandlers.scr::connected
	// local.disconnected_event = registerev "disconnected" global/eventhandlers.scr::disconnected
	// local.spawn_event = registerev "spawn" global/eventhandlers.scr::spawn
	// local.damage_event = registerev "damage" global/eventhandlers.scr::damage
	// local.kill_event = registerev "kill" global/eventhandlers.scr::kill
	// local.keypress_event = registerev "keypress" global/eventhandlers.scr::keypress
	// local.intermission_event = registerev "intermission" global/eventhandlers.scr::intermission
	// local.servercommand_event = registerev "servercommand" global/eventhandlers.scr::servercommand
}