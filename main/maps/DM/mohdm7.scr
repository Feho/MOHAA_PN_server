// NORTH AFRIKA
// ARCHITECTURE: NED, POWZER
// SCRIPTING: POWZER

main:

	setcvar "g_gametype" "2"
	setcvar "timelimit" "15"
	setcvar "fraglimit" "0"

	// set scoreboard messages
	setcvar "g_obj_alliedtext1" "Algiers"
	setcvar "g_obj_alliedtext2" ""
	setcvar "g_obj_alliedtext3" ""
	setcvar "g_obj_axistext1" ""
	setcvar "g_obj_axistext2" ""
	setcvar "g_obj_axistext3" ""

	setcvar "g_scoreboardpic" "mohdm7"

	// call additional stuff for playing this map round based is needed
	if(level.roundbased)
		thread roundbasedthread

	level waittill prespawn
	
	//*** Precache Dm Stuff
	exec global/DMprecache.scr
	
	exec global/door_locked.scr::lock
	level.script = maps/dm/mohdm7.scr
	exec global/ambient.scr mohdm7

	local.info = makeArray
		( 1086 -8 -59 ) ( 0 0 0 ) "random" 1
 	endArray

	thread global/AIR_gold.scr::treasure_spawn local.info
	
	level waittill spawn

end

//-----------------------------------------------------------------------------

roundbasedthread:

	// Can specify different scoreboard messages for round based games here.

	level waitTill prespawn

	level waittill spawn

		// set the parameters for this round based match
		level.dmrespawning = 0 // 1 or 0
		level.dmroundlimit = 5 // round time limit in minutes
		level.clockside = kills // set to axis, allies, kills, or draw

	level waittill roundstart

end
